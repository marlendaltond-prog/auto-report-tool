{
  "test_configs": {
    "test_datasets": [
      {
        "id": "test_sales_data",
        "name": "测试销售数据",
        "description": "用于测试销售报表生成的样本数据",
        "type": "excel",
        "path": "test_data/test_sales_data.xlsx",
        "sheet_name": "Sheet1",
        "data_structure": {
          "columns": [
            {"name": "销售日期", "type": "date", "format": "yyyy-MM-dd"},
            {"name": "产品类别", "type": "string", "values": ["电子产品", "服装", "食品", "家居用品", "办公用品"]},
            {"name": "产品名称", "type": "string"},
            {"name": "销售地区", "type": "string", "values": ["华东", "华南", "华北", "西南", "西北"]},
            {"name": "销售额", "type": "number", "min": 100, "max": 50000},
            {"name": "销售数量", "type": "integer", "min": 1, "max": 100}
          ],
          "row_count": 100
        },
        "generate_script": "python scripts/generate_test_data.py --dataset sales"
      },
      {
        "id": "test_survey_data",
        "name": "测试调研数据",
        "description": "用于测试调研报表生成的样本数据",
        "type": "csv",
        "path": "test_data/test_survey_data.csv",
        "data_structure": {
          "columns": [
            {"name": "调研日期", "type": "date", "format": "yyyy-MM-dd"},
            {"name": "用户ID", "type": "string"},
            {"name": "用户群体", "type": "string", "values": ["年轻人", "中年人", "老年人"]},
            {"name": "产品质量", "type": "number", "min": 1, "max": 5},
            {"name": "价格合理性", "type": "number", "min": 1, "max": 5},
            {"name": "售后服务", "type": "number", "min": 1, "max": 5},
            {"name": "品牌形象", "type": "number", "min": 1, "max": 5},
            {"name": "购买便捷性", "type": "number", "min": 1, "max": 5},
            {"name": "反馈意见", "type": "string"}
          ],
          "row_count": 200
        },
        "generate_script": "python scripts/generate_test_data.py --dataset survey"
      },
      {
        "id": "test_large_data",
        "name": "测试大数据集",
        "description": "用于测试系统处理大数据集能力的样本数据",
        "type": "csv",
        "path": "test_data/test_large_data.csv",
        "data_structure": {
          "columns": [
            {"name": "日期", "type": "date", "format": "yyyy-MM-dd HH:mm:ss"},
            {"name": "设备ID", "type": "string"},
            {"name": "设备类型", "type": "string", "values": ["A", "B", "C", "D", "E"]},
            {"name": "数值1", "type": "number", "min": 0, "max": 1000},
            {"name": "数值2", "type": "number", "min": 0, "max": 1000},
            {"name": "状态", "type": "string", "values": ["正常", "异常", "维护"]}
          ],
          "row_count": 100000
        },
        "generate_script": "python scripts/generate_test_data.py --dataset large"
      }
    ],
    "test_cases": [
      {
        "id": "tc_simple_report_generation",
        "name": "简单报表生成测试",
        "description": "测试simple模板报表的生成功能",
        "test_type": "functional",
        "priority": "high",
        "steps": [
          {"action": "load_data", "dataset": "test_sales_data"},
          {"action": "generate_report", "template": "simple_report", "output_format": "html"},
          {"action": "verify_output", "checks": ["file_exists", "content_valid", "format_correct"]}
        ],
        "expected_result": "报表生成成功，包含基本的销售数据和图表",
        "active": true
      },
      {
        "id": "tc_detailed_report_generation",
        "name": "详细报表生成测试",
        "description": "测试detailed模板报表的生成功能",
        "test_type": "functional",
        "priority": "high",
        "steps": [
          {"action": "load_data", "dataset": "test_sales_data"},
          {"action": "generate_report", "template": "detailed_report", "output_format": "html"},
          {"action": "verify_output", "checks": ["file_exists", "content_valid", "format_correct", "charts_exist", "tables_exist"]}
        ],
        "expected_result": "报表生成成功，包含详细的销售数据、分析图表和表格",
        "active": true
      },
      {
        "id": "tc_business_report_generation",
        "name": "商务报表生成测试",
        "description": "测试business模板报表的生成功能",
        "test_type": "functional",
        "priority": "high",
        "steps": [
          {"action": "load_data", "dataset": "test_sales_data"},
          {"action": "generate_report", "template": "business_report", "output_format": "html"},
          {"action": "verify_output", "checks": ["file_exists", "content_valid", "format_correct", "charts_exist", "tables_exist", "summary_exists"]}
        ],
        "expected_result": "报表生成成功，包含商务风格的销售数据分析和可视化",
        "active": true
      },
      {
        "id": "tc_default_report_generation",
        "name": "默认报表生成测试",
        "description": "测试default模板报表的生成功能",
        "test_type": "functional",
        "priority": "high",
        "steps": [
          {"action": "load_data", "dataset": "test_sales_data"},
          {"action": "generate_report", "template": "default", "output_format": "html"},
          {"action": "verify_output", "checks": ["file_exists", "content_valid", "format_correct"]}
        ],
        "expected_result": "报表生成成功，使用默认模板展示销售数据",
        "active": true
      },
      {
        "id": "tc_multiple_datasets_report",
        "name": "多数据集报表生成测试",
        "description": "测试使用多个数据集生成报表的功能",
        "test_type": "functional",
        "priority": "medium",
        "steps": [
          {"action": "load_data", "datasets": ["test_sales_data", "test_survey_data"]},
          {"action": "generate_report", "template": "detailed_report", "output_format": "html"},
          {"action": "verify_output", "checks": ["file_exists", "content_valid", "format_correct", "multiple_datasets_included"]}
        ],
        "expected_result": "报表生成成功，包含来自多个数据集的数据",
        "active": true
      },
      {
        "id": "tc_large_dataset_performance",
        "name": "大数据集性能测试",
        "description": "测试系统处理大数据集的性能",
        "test_type": "performance",
        "priority": "medium",
        "steps": [
          {"action": "load_data", "dataset": "test_large_data"},
          {"action": "generate_report", "template": "simple_report", "output_format": "html"},
          {"action": "measure_performance", "metrics": ["generation_time", "memory_usage", "cpu_usage"]}
        ],
        "expected_result": "系统能够在合理时间内处理大数据集并生成报表",
        "performance_thresholds": {
          "generation_time": 30,  # 秒
          "memory_usage": 512,  # MB
          "cpu_usage": 80  # %
        },
        "active": true
      },
      {
        "id": "tc_email_notification",
        "name": "邮件通知测试",
        "description": "测试报表生成后的邮件通知功能",
        "test_type": "integration",
        "priority": "medium",
        "steps": [
          {"action": "load_data", "dataset": "test_sales_data"},
          {"action": "generate_report", "template": "simple_report", "output_format": "html", "email_notification": true},
          {"action": "verify_email", "checks": ["email_sent", "attachment_exists", "subject_correct"]}
        ],
        "expected_result": "报表生成成功，并且发送了包含报表附件的邮件",
        "active": false
      }
    ],
    "automation_tests": {
      "enabled": true,
      "test_runner": "pytest",
      "test_files": [
        "tests/test_report_generation.py",
        "tests/test_data_processing.py",
        "tests/test_chart_generation.py",
        "tests/test_email_notification.py"
      ],
      "test_suites": {
        "daily_regression": {
          "name": "每日回归测试",
          "test_cases": ["tc_simple_report_generation", "tc_detailed_report_generation", "tc_business_report_generation", "tc_default_report_generation"],
          "schedule": "daily",
          "time": "02:00"
        },
        "weekly_integration": {
          "name": "每周集成测试",
          "test_cases": ["tc_multiple_datasets_report", "tc_email_notification"],
          "schedule": "weekly",
          "day": 0,  # 周日
          "time": "03:00"
        },
        "monthly_performance": {
          "name": "每月性能测试",
          "test_cases": ["tc_large_dataset_performance"],
          "schedule": "monthly",
          "day": 1,  # 每月1日
          "time": "04:00"
        }
      },
      "reporting": {
        "enabled": true,
        "format": ["html", "json"],
        "dir": "test_reports",
        "email_notification": {
          "enabled": true,
          "profile_id": "work_email",
          "recipients": ["dev@example.com", "qa@example.com"],
          "subject": "【测试报告】自动化测试结果 - {yyyyMMdd_HHmm}"
        }
      }
    },
    "performance_tests": {
      "enabled": true,
      "test_scenarios": [
        {
          "id": "perf_large_data_processing",
          "name": "大数据处理性能测试",
          "description": "测试系统处理不同大小数据集的性能",
          "dataset_sizes": [1000, 10000, 100000, 500000],
          "metrics": ["generation_time", "memory_usage", "cpu_usage", "io_operations"],
          "iterations": 3,
          "warmup_iterations": 1
        },
        {
          "id": "perf_concurrent_users",
          "name": "并发用户性能测试",
          "description": "测试系统在多用户并发访问下的性能",
          "user_counts": [5, 10, 20, 50],
          "test_duration": 300,  # 秒
          "metrics": ["response_time", "throughput", "error_rate", "resource_utilization"],
          "ramp_up_time": 60  # 秒
        }
      ],
      "reporting": {
        "enabled": true,
        "format": ["html", "csv"],
        "dir": "performance_reports"
      }
    },
    "integration_tests": {
      "enabled": true,
      "test_services": [
        {
          "id": "int_email_service",
          "name": "邮件服务集成测试",
          "description": "测试与邮件服务的集成功能",
          "test_cases": ["tc_email_notification"],
          "environment": "test"
        },
        {
          "id": "int_database_service",
          "name": "数据库服务集成测试",
          "description": "测试与数据库服务的集成功能",
          "test_cases": [],
          "environment": "test"
        },
        {
          "id": "int_api_service",
          "name": "API服务集成测试",
          "description": "测试与外部API服务的集成功能",
          "test_cases": [],
          "environment": "test"
        }
      ],
      "reporting": {
        "enabled": true,
        "format": ["html", "xml"],
        "dir": "integration_reports"
      }
    }
  },
  "default_settings": {
    "test_timeout": 300,  # 秒
    "max_retries": 3,
    "retry_delay": 5,  # 秒
    "log_level": "info",
    "log_file": "test.log",
    "output_dir": "test_output",
    "cleanup_after_test": true
  }
}